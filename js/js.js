 function Check_all(a,b){var c=document.getElementById(a).getElementsByTagName('input');for(var i=0;i<c.length;i++){if(c[i].type=='checkbox'){c[i].checked=b}}return true}function ajaxDeclareObjet(){var a;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else if(window.ActiveXObject){try{a=new ActiveXObject('Msxml2.XMLHTTP')}catch(a){a=new ActiveXObject('Microsoft.XMLHTTP')}}else{return'Votre navigateur ne comprend pas la requête envoyée. Veuillez télécharger un navigateur compatible ( Firefox, Opera, Safari, etc ).'}return a}function ajaxTraitement(b){var c=ajaxDeclareObjet(c);if(typeof(c)=='string'){bloc.innerHTML=c}var i=0;var d;while(b.elements[i]){elementActuel=b.elements[i];if(elementActuel.type=='select-multiple'){n=0;while(n<elementActuel.options.length){if(elementActuel.options[n].selected==true){d+='&'+elementActuel.name.replace('[]','['+n+']')+'='+encodeURIComponent(elementActuel.options[n].value)}n++}}else if((elementActuel.type!='checkbox'&&elementActuel.type!='radio')||elementActuel.checked==true){d+='&'+elementActuel.name+'='+encodeURIComponent(elementActuel.value)}i++}c.onreadystatechange=function(){if(c.readyState==4){document.getElementById('ajaxChargement').style.visibility='hidden';if(c.responseText==''||c.status==0){erreur='\t\tImpossible d\'établir une connexion\n\n';erreur+='La communication avec le serveur a échoué. Vérifiez votre connexion internet ainsi que vos paramètres de proxy.';alert(erreur)}else if(c.status==200){var a=c.responseText;if(a[0]=='?'){a=a.substr(1,a.length);eval(a)}else{document.getElementById('ajaxErreur').innerHTML=a}}else{erreur='\t\tErreur de type '+c.status+'\n\n';erreur+='Le serveur a rencontré un problème et ne peut donc pas s\'éxécuter correctement. Voici le détail de l\'erreur :\n';erreur+=c.statusText;alert(erreur)}}else if(c.readyState>=0){document.getElementById('ajaxChargement').style.visibility='visible'}}action=b.action;c.open('POST',action,true);c.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');c.send(d);vider_area();return false}function vider_area(){bloc=document.getElementById('area');bloc.value=''}function getXMLHttpRequest(){var a=null;if(window.XMLHttpRequest||window.ActiveXObject){if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){a=new ActiveXObject("Microsoft.XMLHTTP")}}else{a=new XMLHttpRequest()}}else{alert("Votre navigateur ne supporte pas l'objet XMLHTTPRequest...");return null}return a}function liste_message(){var a='GET';var b='ajaxChat.php';var c='';var d='listeAjax';var e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest();else if(window.ActiveXObject)e=new ActiveXObject("Microsoft.XMLHTTP");else{alert("Votre navigateur ne supporte pas les objets XMLHTTPRequest...");return}e.open(a,b,true);if(a=='POST'){e.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');e.send(c)}else{e.send(null)}e.onreadystatechange=function attente(){if(e.readyState==4){if(e.status==200){document.getElementById(d).innerHTML=e.responseText}}}return}var isMozilla=(navigator.userAgent.toLowerCase().indexOf('gecko')!=-1)?true:false;var regexp=new RegExp("[\r]","gi");function storeCaret(a){if(isMozilla){oField=document.forms['form_post'].elements['message'];objectValue=oField.value;deb=oField.selectionStart;fin=oField.selectionEnd;objectValueDeb=objectValue.substring(0,oField.selectionStart);objectValueFin=objectValue.substring(oField.selectionEnd,oField.textLength);objectSelected=objectValue.substring(oField.selectionStart,oField.selectionEnd);oField.value=objectValueDeb+"["+a+"]"+objectSelected+"[/"+a+"]"+objectValueFin;oField.selectionStart=strlen(objectValueDeb);oField.selectionEnd=strlen(objectValueDeb+"["+a+"]"+objectSelected+"[/"+a+"]");oField.focus();oField.setSelectionRange(objectValueDeb.length+a.length+2,objectValueDeb.length+a.length+2)}else{oField=document.forms['form_post'].elements['message'];var b=document.selection.createRange().text;if(b.length>0){var c=document.selection.createRange();c.text="["+a+"]"+b+"[/"+a+"]";c.collapse();c.select()}else{oField.focus(oField.caretPos);oField.focus(oField.value.length);oField.caretPos=document.selection.createRange().duplicate();var d="%~%";var e=oField.value;oField.caretPos.text=d;var i=oField.value.search(d);oField.value=e.substr(0,i)+"["+a+"][/"+a+"]"+e.substr(i,oField.value.length);var r=0;for(n=0;n<i;n++){if(regexp.test(oField.value.substr(n,2))==true){r++}};pos=i+2+a.length-r;var r=oField.createTextRange();r.moveStart('character',pos);r.collapse();r.select()}}}function apercu(){var a=document.forms['form_post'];var b=document.forms['apercuMessage'];var c=a.elements['pseudo'].value;var d=a.elements['message'].value;if(c==''){alert('Vous n\'êtes pas connecté.')}else if(d==''){alert('Vous devez ecrire un message.')}else{if(!window.focus){return false}b.elements['pseudo'].value=c;b.elements['message'].value=d;window.open('','apercuMessage','width=700, height=400, scrollbars=yes, resizable=yes');b.target='apercuMessage';b.submit()}return false}function popupon(idobjet){if(idobjet){objet=document.getElementById(idobjet);if (objet.style.visibility !="visible"){var top=Math.floor((screen.height-objet.offsetHeight)/2);var left=Math.floor((screen.width-objet.offsetWidth)/2);objet.style.top=top+"px";objet.style.left=left+"px";objet.style.visibility="visible";document.getElementById("lepopup").style.display="block";}else{objet.style.visibility = "hidden";document.getElementById("lepopup").style.display="none";	}}}function popupoff(idobjet){if (idobjet){objet=document.getElementById(idobjet);objet.style.visibility = "hidden";document.getElementById("lepopup").style.display="none";}}function ToggleDiv(elementId){var el = document.getElementById(elementId);if(el.style.display != 'none'){el.style.display = 'none';}else{el.style.display = 'block';}}